name: Copilot Setup Steps

on:
  workflow_dispatch:

jobs:
  setup:
    runs-on: ubuntu-latest
    steps:
      - name: Install Nix
        uses: DeterminateSystems/nix-installer-action@main
        with:
          extra-conf: |
            experimental-features = nix-command flakes
            access-tokens = github.com=${{ github.token }}

      - name: Setup Cachix
        uses: cachix/cachix-action@v16
        with:
          name: viluon
          extraPullNames: nix-community
          skipPush: true
